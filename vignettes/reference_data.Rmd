---
title: "Reference Data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Reference Data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include=FALSE, echo=FALSE}
devtools::load_all(".")
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Here is the reference data used in the scoring. Feel free to use the buttons to
download this info for your own analysis!

# Key

**Date**: Date on which the value in a column was observed.

**SP500**: Closing value of the S&P 500 index.

**SHY**: Closing value of the iShares 1-3 year treasury bond ETF

**BTC**: Closing value of Bitcoin/USD exchange rate

**3_mo**: Daily 3-month maturity treasury par yield curve rate [as reported by the
US Department of the
Treasury](https://home.treasury.gov/resource-center/data-chart-center/interest-rates/TextView?type=daily_treasury_yield_curve&field_tdr_date_value_month=202202)

**3_mo_apy**: US Treasury 3-month yields converted to Annual Percentage Yield
(APY) using the [formula specified by the
USDT](https://home.treasury.gov/policy-issues/financing-the-government/interest-rate-statistics/interest-rates-frequently-asked-questions)

```{css, echo=FALSE}
button.dt-button {
font-size: 14px;
color: greenyellow;
border: 1px solid white;
}
```

# Data

```{r echo=FALSE}
ref_data %>%
  dplyr::mutate(
    '3_mo'     = .$`3_mo`/100,
    '3_mo_apy' = .$`3_mo_apy`/100
  ) %>%
  DT::datatable(
    .,
    extensions = c('Scroller', 'Buttons'),
    rownames   = FALSE,
    options = list(
      columnDefs   = list(list(className = 'dt-center', targets = '_all')),
      initComplete = DT::JS(
        "
      function(settings, json) {
          $(this.api().table().header()).css({
              'font-size' : '20px', 
              'color' : 'greenyellow'
          });
      }
      "
      ),
      dom         = 'Bt',
      buttons     = c('csv', 'excel', 'copy'),
      deferRender = TRUE,
      ordering    = FALSE,
      scrollY     = 500,
      scroller    = TRUE
    )
  ) %>%
  DT::formatPercentage(c('3_mo', '3_mo_apy'), 3)
```


